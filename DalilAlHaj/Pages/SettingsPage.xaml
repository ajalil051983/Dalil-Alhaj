<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:res="clr-namespace:DalilAlHaj.Resources.Localization"
             x:Class="DalilAlHaj.Pages.SettingsPage"
             Title="{x:Static res:AppResources.SettingsTitle}">
    <ContentPage.BackgroundColor>
        <AppThemeBinding Light="#F5F5F5" Dark="#1E1E1E" />
    </ContentPage.BackgroundColor>

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            <!-- Header -->
            <Border Background="#9B59B6"
                    StrokeShape="RoundRectangle 15"
                    Padding="20"
                    Shadow="5,5,10,Black">
                <Label x:Name="HeaderLabel"
                       Text="{x:Static res:AppResources.SettingsTitle}" 
                       FontSize="24" 
                       FontAttributes="Bold"
                       TextColor="White"
                       HorizontalOptions="Center" />
            </Border>

            <!-- Language Selection -->
            <Border StrokeShape="RoundRectangle 10"
                    Padding="20"
                    Shadow="5,5,10,Black">
                <Border.Background>
                    <AppThemeBinding Light="White" Dark="#2D2D30" />
                </Border.Background>
                <VerticalStackLayout Spacing="15">
                    <HorizontalStackLayout Spacing="15">
                        <Label Text="ðŸŒ" 
                               FontSize="24" />
                        <Label x:Name="LanguageLabel"
                               Text="{x:Static res:AppResources.Language}" 
                               FontSize="18"
                               VerticalOptions="Center">
                            <Label.TextColor>
                                <AppThemeBinding Light="Black" Dark="White" />
                            </Label.TextColor>
                        </Label>
                    </HorizontalStackLayout>

                    <Picker x:Name="LanguagePicker"
                            Title="{x:Static res:AppResources.ChooseLanguage}"
                            SelectedIndexChanged="OnLanguageChanged"
                            FontSize="16">
                        <Picker.Items>
                            <x:String>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</x:String>
                            <x:String>English</x:String>
                            <x:String>FranÃ§ais</x:String>
                        </Picker.Items>
                    </Picker>
                </VerticalStackLayout>
            </Border>

            <!-- Dark Mode -->
            <Border StrokeShape="RoundRectangle 10"
                    Padding="20"
                    Shadow="5,5,10,Black">
                <Border.Background>
                    <AppThemeBinding Light="White" Dark="#2D2D30" />
                </Border.Background>
                <Grid ColumnDefinitions="Auto,*">
                    <Label Text="ðŸŒ™" 
                           FontSize="24"
                           VerticalOptions="Center"
                           Grid.Column="0" />
                    <Label Text="{x:Static res:AppResources.DarkMode}" 
                           FontSize="18"
                           VerticalOptions="Center"
                               Grid.Column="1">
                        <Label.TextColor>
                            <AppThemeBinding Light="Black" Dark="White" />
                        </Label.TextColor>
                    </Label>
                    <Switch x:Name="DarkModeSwitch"
                            Toggled="OnDarkModeToggled"
                            OnColor="#9B59B6"
                            Grid.Column="2" />
                </Grid>
            </Border>

            <!-- Font Size -->
            <Border StrokeShape="RoundRectangle 10"
                    Padding="20"
                    Shadow="5,5,10,Black">
                <Border.Background>
                    <AppThemeBinding Light="White" Dark="#2D2D30" />
                </Border.Background>
                <VerticalStackLayout Spacing="15">
                    <HorizontalStackLayout Spacing="15">
                        <Label Text="ðŸ”¤" 
                               FontSize="24" />
                        <Label Text="{x:Static res:AppResources.FontSize}" 
                               FontSize="18"
                               VerticalOptions="Center">
                            <Label.TextColor>
                                <AppThemeBinding Light="Black" Dark="White" />
                            </Label.TextColor>
                        </Label>
                    </HorizontalStackLayout>

                    <HorizontalStackLayout Spacing="10"
                                           HorizontalOptions="Center">
                        <Button Text="{x:Static res:AppResources.FontSmall}"
                                Clicked="OnFontSizeClicked"
                                CommandParameter="14"
                                BackgroundColor="#95A5A6"
                                TextColor="White"
                                CornerRadius="20"
                                Padding="20,10" />
                        <Button Text="{x:Static res:AppResources.FontMedium}"
                                Clicked="OnFontSizeClicked"
                                CommandParameter="17"
                                BackgroundColor="#3498DB"
                                TextColor="White"
                                CornerRadius="20"
                                Padding="20,10" />
                        <Button Text="{x:Static res:AppResources.FontLarge}"
                                Clicked="OnFontSizeClicked"
                                CommandParameter="20"
                                BackgroundColor="#27AE60"
                                TextColor="White"
                                CornerRadius="20"
                                Padding="20,10" />
                    </HorizontalStackLayout>

                    <Label x:Name="PreviewLabel"
                           Text="{x:Static res:AppResources.FontExample}"
                           FontSize="17"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"
                           Padding="10">
                        <Label.TextColor>
                            <AppThemeBinding Light="Black" Dark="White" />
                        </Label.TextColor>
                    </Label>
                </VerticalStackLayout>
            </Border>

            <!-- About -->
            <Border StrokeShape="RoundRectangle 10"
                    Padding="20"
                    Shadow="5,5,10,Black">
                <Border.Background>
                    <AppThemeBinding Light="White" Dark="#2D2D30" />
                </Border.Background>
                <VerticalStackLayout Spacing="10">
                    <Label x:Name="AboutTitleLabel"
                           Text="{x:Static res:AppResources.SettingsTitle}" 
                           FontSize="18"
                           FontAttributes="Bold">
                        <Label.TextColor>
                            <AppThemeBinding Light="Black" Dark="White" />
                        </Label.TextColor>
                    </Label>
                    <Label x:Name="AboutSubtitleLabel"
                           Text="{x:Static res:AppResources.AppSubtitle}" 
                           FontSize="16">
                        <Label.TextColor>
                            <AppThemeBinding Light="#666666" Dark="#CCCCCC" />
                        </Label.TextColor>
                    </Label>
                    <Label x:Name="AboutVersionLabel"
                           Text="{x:Static res:AppResources.Version}" 
                           FontSize="14">
                        <Label.TextColor>
                            <AppThemeBinding Light="#666666" Dark="#CCCCCC" />
                        </Label.TextColor>
                    </Label>
                </VerticalStackLayout>
            </Border>
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
